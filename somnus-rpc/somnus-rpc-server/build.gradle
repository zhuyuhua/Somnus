apply plugin: 'java'
apply plugin: 'eclipse'

group = 'com.somnus.rpc.server'
version = '1.0-SNAPSHOT'

jar {
	baseName =  'somnus-rpc-server'
}

dependencies {

	compile project(':somnus-rpc:somnus-rpc-protocol')
	compile project(':somnus-rpc:somnus-rpc-serializer')
	//compile project(':somnus-json')
	
    compile fileTree(dir: 'lib', include: '*.jar')
    
	testCompile libraries.junit
	compile libraries.commons_logging

	
	compile libraries.javassist
	compile libraries.netty3
	compile libraries.antlr

	
	compile libraries.slf4j_log
	compile libraries.slf4j_api
	
}
idea.module.iml{
    whenMerged { module ->
        module.dependencies*.exported = true
    }
}

//源码结构
	sourceSets {
		main {
			java {
				srcDir 'src/main/bootstrap'
				srcDir 'src/main/filter'
				srcDir 'src/main/secure'
				srcDir 'src/main/contract'
				srcDir 'src/main/core'
				srcDir 'src/main/deploy'
				srcDir 'src/main/performance'
				srcDir 'src/main/util'
				srcDir 'src/main/java'
			}
			resources {
				srcDir 'src/main/resources'
			}
		}
        test {
			java {
				srcDir 'src/main/java'
			}
			resources {
				srcDir 'src/main/resources'
			}
		}
	}